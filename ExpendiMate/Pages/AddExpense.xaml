<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ExpendiMate.Pages.AddExpense"
             xmlns:models="clr-namespace:ExpendiMate.Models"
             Shell.FlyoutBehavior="Disabled"
             BackgroundColor="White">
    <ScrollView>
        <VerticalStackLayout>
            <Label Text="Name"
                   TextColor="#00B14F"
                   FontSize="20"
                   FontAttributes="Bold"
                   Margin="20,10,20,10"/>

            <Entry Placeholder="Enter the expense name" 
                   TextColor="Green" 
                   HorizontalOptions="FillAndExpand"
                   Margin="20,10,20,10"
                   Text="{Binding ExpenseName}"/>

            <Label Text="Category"
                   TextColor="#00B14F"
                   FontSize="20"
                   FontAttributes="Bold"
                   Margin="20,10,20,10"/>

            <Picker x:Name="Category"
                    BackgroundColor="#8D8D8D"
                    TextColor="White"
                    HorizontalOptions="FillAndExpand"
                    Margin="20,10,20,10"
                    ItemsSource="{x:Static models:CategoryModel.CategoryList}"
                    SelectedItem="{Binding ExpenseCategory}">
            
                <!--<Picker.ItemsSource>
                    <x:Array Type="{x:Type x:String}">
                        <x:String>Groceries</x:String>
                        <x:String>Food</x:String>
                        <x:String>Education</x:String>
                        <x:String>Leisure</x:String>
                        <x:String>Health</x:String>
                        <x:String>Gifts</x:String>
                    </x:Array>
                </Picker.ItemsSource>-->
            </Picker>

            <Label Text="Date"
                   TextColor="#00B14F"
                   FontSize="20"
                   FontAttributes="Bold"
                   Margin="20,10,20,10"/>
            <DatePicker 
                MinimumDate="01/01/2023"
                MaximumDate="12/31/2024"
                Date="{Binding ExpenseDate}"
                Margin="20,10,20,10"
                TextColor="White"
                Background="#32df7f"/>

            <HorizontalStackLayout>
                <Frame BackgroundColor="#32df7f"
                       WidthRequest="90"
                       HeightRequest="45"
                       CornerRadius="10"
                       BorderColor="Transparent"
                       Margin="20,10,20,10">

                    <!-- Text="Binding MyDate, StringFormat='{0:d}'-->
                    <VerticalStackLayout>
                        <Label Text="14/01"
                               TextColor="Black"
                               HorizontalOptions="Center"
                               FontAttributes="Bold"
                               FontSize="12"
                               TranslationY="5"/>

                        <Label Text="Today"
                               TextColor="Black"
                               HorizontalOptions="Center"
                               FontAttributes="Bold"
                               FontSize="12"
                               TranslationY="5"/>
                    </VerticalStackLayout>
                </Frame>

                <Frame BackgroundColor="#4b9460"
                       WidthRequest="90"
                       HeightRequest="45"
                       CornerRadius="10"
                       BorderColor="Transparent"
                       Padding="0"
                       Margin="10, -20">

                    <VerticalStackLayout>
                        <Label Text="13/01"
                               TextColor="Black"
                               HorizontalOptions="Center"
                               FontAttributes="Bold"
                               FontSize="12"
                               TranslationY="5"/>

                        <Label Text="Yesterday"
                               TextColor="Black"
                               HorizontalOptions="Center"
                               FontAttributes="Bold"
                               FontSize="12"
                               TranslationY="5"/>
                    </VerticalStackLayout>
                </Frame>

                <Frame BackgroundColor="#4b9460"
                       WidthRequest="90"
                       HeightRequest="45"
                       CornerRadius="10"
                       BorderColor="Transparent"
                       Padding="0"
                       Margin="10, -20">

                    <VerticalStackLayout>
                        <Label Text="12/01"
                               TextColor="Black"
                               HorizontalOptions="Center"
                               FontAttributes="Bold"
                               FontSize="12"
                               TranslationY="5"/>

                        <Label Text="2 days ago"
                               TextColor="Black"
                               HorizontalOptions="Center"
                               FontAttributes="Bold"
                               FontSize="12"
                               TranslationY="5"/>
                    </VerticalStackLayout>
                </Frame>

                <Image Source="calendar.png"
                       WidthRequest="45" 
                       HeightRequest="45"
                       Margin="20, 0"/>
            </HorizontalStackLayout>

            <Label Text="Cost"
                   TextColor="#00B14F"
                   FontSize="20"
                   FontAttributes="Bold"
                   HorizontalOptions="FillAndExpand"
                   Margin="20,10,20,10"/>

            <Entry Placeholder="Enter the cost amount" 
                   TextColor="Green"
                   HorizontalOptions="FillAndExpand"
                   Margin="20,10,20,10"
                   Text="{Binding ExpenseCost}"/>

            <Label Text="Comments"
                   TextColor="#00B14F"
                   FontSize="20"
                   FontAttributes="Bold"
                   Margin="20,10,20,10"/>

            <Entry Placeholder="Leave your feedback here..." 
                   TextColor="Green"
                   HorizontalOptions="FillAndExpand"
                   Margin="20,10,20,10"
                   Text="{Binding ExpenseComments}"/>

            <Label Text="Photo"
                   TextColor="#00B14F"
                   FontSize="20"
                   FontAttributes="Bold"
                   Margin="20,10,20,10"/>

            <HorizontalStackLayout Margin="20,10,20,10" Spacing="10">
                <Image  Source="{Binding ExpensePicturePath}"
                        WidthRequest="100"
                        HeightRequest="100"
                        Aspect="Fill"
                        AbsoluteLayout.LayoutBounds="0, 0, 1, 1"
                        AbsoluteLayout.LayoutFlags="All"/>
                <Button Text="+"
                        TextColor="White"
                        FontAttributes="Bold"
                        FontSize="80"
                        BackgroundColor="#00B14F"
                        HeightRequest="100"
                        WidthRequest="100"
                        Clicked="AddPhoto"/>
            </HorizontalStackLayout>

            <Button Text="Save"
                    TextColor="White"
                    FontAttributes="Bold"
                    FontSize="16"
                    BackgroundColor="#00B14F"
                    WidthRequest="200"
                    Margin="20,10,20,10"
                    HorizontalOptions="Start"
                    Clicked="AddExpenses"/>

            <Button
                x:Name="ClearExpensesButton"
                Text="Delete all Data"
                TextColor="White"
                WidthRequest="200"
                Margin="20,10,20,10"
                HorizontalOptions="Start"
                Clicked="ClearAllExpenses"
                BackgroundColor="LightCoral"/>
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>